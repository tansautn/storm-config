<application>
  <component name="PromptTemplates">
    <option name="builtInPromptOverrides">
      <list>
        <BuiltInPromptOverride>
          <option name="groupId" value="rules" />
          <option name="promptId" value="ide" />
          <option name="text" value="# CERM Developer Manual&#10;&#10;Source of truth: .cursor/rules/*.mdc. Each section explicitly cites the governing rule file(s). No guidelines below are invented; all are derived from the referenced rules.&#10;&#10;1. Architecture &amp; Modular Structure (Source: .cursor/rules/000-php-laravel-rules.mdc and .cursor/rules/000-general-rules.mdc)&#10;&#10;- Project stack&#10;  - Laravel 12 (see 000-php-laravel-rules.mdc §3 “Architecture &amp; Structure”).&#10;  - Modular structure via nwidart/laravel-modules; each module isolates domain logic and must include Providers, Routes, Events, Models, Policies, Docs, Tests, etc. (000-php-laravel-rules.mdc lines 13–22).&#10;  - Filament Admin (filament/filament) with bezhansalleh/filament-shield for RBAC (000-php-laravel-rules.mdc lines 15–17).&#10;  - Naming conventions: folders lowercase_snake_case, classes PascalCase, methods camelCase (000-php-laravel-rules.mdc line 23; reinforced by PSR-12 in 000-php-laravel-rules.mdc lines 30–35).&#10;&#10;- Module structure requirements (000-php-laravel-rules.mdc)&#10;  - Each module must have its own composer.json and well-defined boundaries: Providers, Routes, Events, Models, Policies, Docs, Tests (lines 20–22).&#10;  - Avoid facades outside AppServiceProvider unless necessary (line 22).&#10;&#10;- Filament-specific rules (000-php-laravel-rules.mdc §5 “Filament Admin Rules”)&#10;  - Use miguilim/filament-auto-panel for generating resources/panels (line 42).&#10;  - Keep field validation and authorization policy out of Resource classes; separate validation and policies (line 43).&#10;  - Don’t override default views unless strictly necessary (line 44).&#10;&#10;2. Data Access Layer – STRICT (Source: .cursor/rules/002-repository-pattern.mdc)&#10;&#10;- Core principle (lines 8–13)&#10;  - Models are data holders and define relationships only.&#10;  - All database interaction must go through Repository classes.&#10;  - Direct model calls in business logic are forbidden (e.g., Model::find, query()-&gt;where) (lines 16–24 with anti-examples; lines 26–35 with required usage).&#10;&#10;- Required usage pattern (lines 26–35)&#10;  - Inject or access repositories via the Singleton make() method or app() helper.&#10;  - Examples: WalletRepository::make()-&gt;find($id); TransactionItemRepository::make()-&gt;getByWalletId($id).&#10;&#10;- Instantiation (lines 37–59)&#10;  - Use make() from SingletonMakeable or resolve via app().&#10;  - Typical constructor pattern initializes required repositories using ::make().&#10;&#10;- AbstractRepository methods (lines 61–80)&#10;  - CRUD: create, update, delete, find.&#10;  - Query helpers: findBy, findOneBy, findAll.&#10;  - Query builder access: getIsolatedQuery() for fresh builders; getCurrentQuery() for chained operations.&#10;&#10;- Query Builder pattern (lines 82–100)&#10;  - Use getIsolatedQuery() for custom queries; do not chain on shared state unintentionally.&#10;  - Use getCurrentQuery() for staged chains, then reset currentQuery when done.&#10;&#10;- Repository structure (lines 102–120+)&#10;  - Each Model has a corresponding Repository extending AbstractRepository and implementing getModelClassName().&#10;  - Provide domain-specific methods that internally use getIsolatedQuery()/getCurrentQuery() while keeping models free of business logic.&#10;&#10;3. Coding Standards &amp; Logging (Sources: .cursor/rules/000-general-rules.mdc, .cursor/rules/000-php-laravel-rules.mdc, .cursor/rules/002-cursor-rules-logger.mdc)&#10;&#10;- Style and constraints&#10;  - PSR-4 autoloading and PSR-12 code style (000-php-laravel-rules.mdc lines 31–34).&#10;  - Testing-first for logic with &gt;= 3 processing steps; type hints and DI; avoid tightly coupled code; keep methods &lt;= 15 lines (000-php-laravel-rules.mdc lines 29, 35).&#10;  - Do not log sensitive data; do not commit credentials (000-php-laravel-rules.mdc line 36).&#10;&#10;- Logging usage (002-cursor-rules-logger.mdc)&#10;  - For Laravel/Symfony systems, use Log::channel() for module-specific logging and ensure the channel exists in config/logging.php (lines 10–11).&#10;  - Prefer an injected logger or Log facade configured per module; avoid native print/console outputs in application code per general logger rules (002-cursor-rules-logger.mdc lines 8–13).&#10;  - Choose appropriate log levels and include contextual info (002-cursor-rules-logger.mdc lines 26–29, 94–103).&#10;&#10;- Output bans&#10;  - Production debugging via native printers is prohibited by logger rules; use structured logging instead (002-cursor-rules-logger.mdc lines 8–13). Note: This document does not add additional bans beyond the rule file; adhere to those logger constraints in PHP by avoiding var_dump/print_r/echo for diagnostic output in production paths.&#10;&#10;- Doc-first&#10;  - All changes start with documentation: objectives, steps, and diagrams where appropriate; docs live under docs/ (000-general-rules.mdc §2, lines 22–31).&#10;&#10;4. Workflow &amp; Task Management (Source: .cursor/rules/001-tasks-workflow.mdc)&#10;&#10;- Task files and index&#10;  - Tasks are distributed across docs/tasks/tasks-N.md and indexed by docs/tasks/tasks-index.md with overall counts and file index (lines 10–31).&#10;&#10;- Picking the next task (lines 70–82)&#10;  - Open docs/tasks/tasks-index.md to learn the order.&#10;  - Iterate tasks-1.md, tasks-2.md, … and select the first task with “Complete: [ ]”.&#10;  - If a specific Task ID is given, use the index to locate the correct tasks-N.md file, then find the matching “### Task ID: {ID}”.&#10;&#10;- Implementing a task (lines 83–95)&#10;  - Focus on the file specified by the task’s File field.&#10;  - Use project architecture docs as needed but keep the task prompt primary.&#10;&#10;- Updating status (lines 96–111)&#10;  - After implementation, change “Complete: [ ]” to “Complete: [x]” in the specific tasks-N.md file.&#10;  - Update the overall counts in docs/tasks/tasks-index.md accordingly.&#10;&#10;- Notifications (lines 113–118)&#10;  - Inform the team/user of completion with a brief summary and the task location.&#10;&#10;5. External Libraries (Source: .cursor/rules/003-documentation-context.mdc)&#10;&#10;- Mandatory workflow before implementing any external library usage (lines 9–36)&#10;  - Resolve library name to a Context7-compatible ID using mcp_context7_resolve-library-id.&#10;  - Fetch documentation via mcp_context7_get-library-docs using the resolved ID.&#10;  - Do not skip resolution or use hardcoded IDs. Do not implement before reviewing docs.&#10;&#10;- Verification and review (lines 38–63, 85–92)&#10;  - Verify API version compatibility, method signatures, return types, configuration, dependencies, and common patterns/examples.&#10;  - Handle the docs response properly: extract sections/examples for guidance.&#10;&#10;- Process summary&#10;  - Document first, implement second. Never rely on memory; always validate against retrieved docs (003-documentation-context.mdc lines 44–56, 58–63).&#10;&#10;Appendix: Quick Anti-Patterns vs. Required Patterns (Citations)&#10;&#10;- Direct model access in business logic — Forbidden; use repositories (002-repository-pattern.mdc lines 16–35).&#10;- Filament resources containing validation/policy logic — Forbidden; keep them separate (000-php-laravel-rules.mdc line 43).&#10;- Ad-hoc console/debug prints in app code — Replace with Log::channel()/injected logger as per logger rules (002-cursor-rules-logger.mdc lines 8–13, 10).&#10;- Implementing with external libs without doc retrieval — Forbidden; follow Context7 2-step flow (003-documentation-context.mdc lines 18–36).&#10;&#10;Audience note: This manual targets senior Laravel developers; it omits basic Composer/Artisan setup and focuses on architectural enforcement and process fidelity per the cited rule files." />
        </BuiltInPromptOverride>
      </list>
    </option>
  </component>
</application>